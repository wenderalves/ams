import{a as V,b as B}from"./chunk-KREHVV7L.js";import{a as _}from"./chunk-Y5EC2XX3.js";import{a as f}from"./chunk-CNQIXSA4.js";import{k as O,x as U,y as R}from"./chunk-SWNKU5GI.js";import{d as w,e as H,f as E,g as S}from"./chunk-LUL2EJHL.js";import{j as u}from"./chunk-FB3N4GLY.js";import{$a as M,Da as C,Ja as m,La as b,Pa as o,Qa as i,Ra as s,Ta as T,U as j,Ua as I,V as F,Va as h,Za as r,_a as k,ab as L,bb as N,db as y,eb as P,nb as z,oa as A,ob as q,qa as n,ra as c,ya as d}from"./chunk-YAUTG46X.js";import"./chunk-FDERIQAA.js";var D=class t{Heart=O;constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["footer"]],decls:7,vars:1,consts:[[1,"w-full","flex","flex-col","items-center","justify-start","max-w-screen-md","h-10","mt-10"],[1,"text-xs","text-gray-500","flex","items-center","justify-center","gap-1"],[1,"w-4","h-4","text-red-500",3,"img"],["href","mailto:wender_net@hotmail.com",1,"hover:underline"]],template:function(e,l){e&1&&(o(0,"div",0)(1,"p",1),r(2," Feito com "),s(3,"lucide-angular",2),r(4," por "),o(5,"a",3),r(6,"comulink.com.br"),i()()()),e&2&&(n(3),m("img",l.Heart))},dependencies:[u,R,U],encapsulation:2})};function X(t,a){if(t&1&&(o(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s(5,"img",5),y(6,"baseUrl"),i(),o(7,"a",6),y(8,"baseUrl"),s(9,"img",7),y(10,"baseUrl"),i(),o(11,"h1",8),r(12),i()()(),s(13,"router-outlet")(14,"footer"),i()()),t&2){let e=h();n(5),m("src",P(6,4,e.dataPage==null?null:e.dataPage.banner),A),n(2),m("routerLink",P(8,6,"../")),n(2),m("src",P(10,8,e.dataPage==null?null:e.dataPage.logo),A),n(3),M(" ",e.dataPage==null?null:e.dataPage.name," ")}}function Y(t,a){t&1&&s(0,"carregando")}var v=class t{constructor(a,e,l,g){this.route=a;this.dataClient=e;this.geoService=l;this.router=g;this.getData(),q(()=>{Object.keys(this.dataClient.data()).length>0&&(this.dataPage=this.dataClient.data(),this.dataPage.config.limitarGeolocalizacao&&this.geoService.getCoordsBrowser().then(p=>{let J=this.geoService.isAllowedDistance(this.dataPage.config.raioPermitidoKm,this.dataPage.config.latitude,this.dataPage.config.longitude,p.lat,p.lng);if(!p||!J){alert("Voc\xEA est\xE1 fora da \xE1rea de cobertura do site."),this.router.navigate(["client",this.dataPage.domain,"erro"],{queryParams:{error:"401"}});return}}).catch(p=>{this.router.navigate(["client",this.dataPage.domain,"erro"],{queryParams:{error:"localizacao"}})}))}),this.route.parent?.params.subscribe(p=>{this.currentCondo&&this.currentCondo!==p.client&&location.reload()})}isDataReady=z(()=>Object.keys(this.dataClient.data()).length>0);dataPage;currentCondo="";getData(){this.currentCondo=this.route.snapshot.params.client,this.dataClient.getData(this.currentCondo).subscribe()}static \u0275fac=function(e){return new(e||t)(c(w),c(f),c(_),c(E))};static \u0275cmp=d({type:t,selectors:[["app-root"]],features:[L([f,_])],decls:2,vars:1,consts:[[1,"w-full","min-h-screen","flex","flex-col","items-center","justify-start","bg-gray-200","px-4"],[1,"h-full","items-start","max-w-lg"],[1,"w-full","flex","flex-col","items-center","justify-start","max-w-screen-md","gap-4"],[1,"w-full","flex","flex-col","items-center","justify-start"],[1,"w-full","overflow-hidden","flex","items-center","justify-center"],["alt","banner",1,"w-full",3,"src"],[1,"-mt-16","bg-gray-100","overflow-hidden","border-6","border-white","shadow-lg","w-32","h-32","rounded-full","p-3",3,"routerLink"],["alt","Logo",1,"w-full",3,"src"],[1,"text-xl","font-bold","mb-4","align-center","uppercase","text-gray-700","mt-4"]],template:function(e,l){e&1&&C(0,X,15,10,"main",0)(1,Y,1,0,"carregando"),e&2&&b(l.isDataReady()?0:1)},dependencies:[R,u,H,V,D,S,B],encapsulation:2})};var Z=()=>["../home"];function $(t,a){if(t&1){let e=T();o(0,"h1",2),r(1,"Permiss\xF5es Requeridas"),i(),o(2,"p",3),r(3," Para acessar o sistema voc\xEA precisa dar a "),o(4,"b"),r(5,"permiss\xE3o de localiza\xE7\xE3o"),i(),r(6,". "),s(7,"br"),r(8," Acesse as configura\xE7\xF5es do seu navegador e permita o acesso \xE0 localiza\xE7\xE3o."),s(9,"br"),i(),o(10,"button",4),I("click",function(){j(e);let g=h();return F(g.requestLocationAndRedirect())}),r(11," Tentar Novamente "),i()}}function ee(t,a){if(t&1&&(o(0,"h1",2),r(1),i(),o(2,"p",5),r(3),i(),o(4,"a",6),r(5," Voltar para a p\xE1gina inicial "),i()),t&2){let e=h();n(),k(e.titulo),n(2),k(e.message),n(),m("routerLink",N(3,Z))}}var x=class t{constructor(a,e,l){this.activeRoute=a;this.router=e;this.dataService=l;let g=this.activeRoute.snapshot.queryParams.error;if(g)switch(g){case"401":case"403":this.titulo="Acesso negado",this.message="Voc\xEA n\xE3o tem permiss\xE3o para acessar esta p\xE1gina.";break;case"404":this.titulo="P\xE1gina n\xE3o encontrada",this.message="A p\xE1gina que voc\xEA est\xE1 procurando n\xE3o existe.";break;case"500":this.titulo="Erro interno do servidor",this.message="Ocorreu um erro interno no servidor. Por favor, tente novamente mais tarde.";break;case"localizacao":this.informativo=!0;break;default:this.titulo="Oops! Algo deu errado.",this.message="N\xE3o foi poss\xEDvel carregar a p\xE1gina.";break}}titulo="Oops! Algo deu errado.";message="N\xE3o foi poss\xEDvel carregar a p\xE1gina.";informativo=!1;requestLocationAndRedirect(){navigator.geolocation.getCurrentPosition(a=>{let e=this.dataService.getDataStorage();e&&this.router.navigate(["client",e?.domain,"home"])},a=>{console.error("Permiss\xE3o de localiza\xE7\xE3o negada:",a)},{enableHighAccuracy:!0,maximumAge:0,timeout:5e3})}static \u0275fac=function(e){return new(e||t)(c(w),c(E),c(f))};static \u0275cmp=d({type:t,selectors:[["error-page"]],decls:4,vars:1,consts:[[1,"flex","flex-col","justify-center","items-center","h-screen","gap-3"],["src","/comulink.svg","alt","Comulink",1,"w-32"],[1,"text-2xl","font-bold","mb-4","text-gray-600"],[1,"text-gray-400","mb-8","text-center"],[1,"bg-blue-900","hover:bg-blue-800","text-white","py-2","px-4","rounded",3,"click"],[1,"text-gray-400","mb-8"],[1,"bg-blue-900","hover:bg-blue-800","text-white","py-2","px-4","rounded",3,"routerLink"]],template:function(e,l){e&1&&(o(0,"div",0),s(1,"img",1),C(2,$,12,0)(3,ee,6,4),i()),e&2&&(n(2),b(l.informativo?2:3))},dependencies:[u,S],encapsulation:2})};var te=[{path:"",loadComponent:()=>import("./chunk-2UQPQ4FR.js").then(t=>t.PageComponent)}],oe=[{path:"",loadComponent:()=>import("./chunk-DRAERPTE.js").then(t=>t.SharedComponent)}],ke=[{path:"shared",component:v,loadChildren:()=>oe},{path:"erro",pathMatch:"full",component:x},{path:"erro/:error",pathMatch:"full",component:x},{path:":slug",component:v,loadChildren:()=>te},{path:"",redirectTo:"home",pathMatch:"full"}];export{ke as routes};
